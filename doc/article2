BGP AS / ISP Security Ranking - Getting informations

Please read this article first: <address>

I will now explain you what is 'the rest', what the application do when all the informations we want/need are extracted of the datasets. 

* In short

RIS Whois and Whois entries are fetched for each IP...

... but it is not that easy! :) 


* RIS Whois

The ris informations are fetched from riswhois.ripe.net to know who is announcing the network of the ip. 

From the response, we extract the origin, which is the AS announcing the IP, the route and the description of the ASN. The query server is also saved too: it is the DNS of the server where we do the query. It is actually always riswhois.ripe.net but in a neat future, we will directly use a bgp session on a router. 

If there is no response, we assume that the ip is not announced anymore. It is also possible that the ip is false in the dataset or it is a false positive such as a private address. 

* Whois

It is a bit more complicated: I implement a whois client based on the assignations given by the whois package of debian/ubuntu to ask the whois entries to the right server.
As for the RIS Whois, the query server is saved.

There are two problems: 
- the time: it takes ~1sec to get a whois entry 
- the number of queries: the RIR Afrinic blacklist the ip address which make too much queries 

So I begin to program a whois server based on redis. More informations on it in an other article but you can already take a look at the code there: http://gitorious.org/whois-server

In the next article, we will see how is used redis as a shared memory and caching server.
