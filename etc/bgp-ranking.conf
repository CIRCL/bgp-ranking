; The number of processes to start should be equal to the number of available cores plus one. 
; Do nott forget that is you processes use extensively a third party programm (like mysql or redis), 
; you should not start more than "number of available cores" processes. 
; The default configuration is based on a server with 4 cores. 


; The timers are used all around the system. 
[sleep_timers]
; The short one is used to check very often if there is new entries to out in the system
short = 5
; The long one is mostly used to veryfy if there is new raw information to fetch. 
long = 3600

[modules_global]
; we use the temporary database 
temp_db = 0
uid_var = uid
uid_list = uid_list
input_processes = 5

; Except for root, you probably do not want to change this paths but feel free to do it 
; if you want. 
[directories]
root = /home/raphael/bgp-ranking
libraries = lib
services = bin/services
raw_data = var/raw_data
pids = var/run
ranking_graphs = var/graphs
rgraph = thirdparty/RGraph/libraries

[ranking]
; Number of processes to start to compute the ranking
processes = 5
; Interval of ASNs to compute,  by process
interval = 1000
; sleep 5 min
bview_check = 300

; The local whois server
[whois_server]
hostname = localhost
port = 4343

; All the variables used to fetch and update the routing information
[routing]
bgp_sources = RIPE
number_of_splits = 10
processes_parse = 5
processes_push = 5
bgpdump = thirdparty/libbgpdump-1.4.99.12/bgpdump
bviewfile = bgp/bview.gz
bviewtimesamp = bgp/bview.gz.timestamp
temp_bviewfile = bgp/tmp/bview.gz
;new bview file every 8 hours
timer = 11520 
; The next information should not be modified, except of the format of the files provided
; by the RIPE NCC change (and it will not.) 
update_hours = 0000 0800 1600
prefix_basename = bview.
suffix_basename = .gz
base_url = http://data.ris.ripe.net/rrc00

; all the modules to use. 
[modules_to_parse]
; classname = impact
DshieldDaily = 1
DshieldTopIPs = 2
;Abusix = 2
ZeustrackerIpBlockList = 5
SshblBase = 5
;ShadowserverSinkhole = 10
;ShadowserverReport = 10
;ShadowserverReport2 = 10
;Atlas = 20

; all the datasets to fetch automatically 
[raw_fetching]
;uniq_name = module directory url
topips = DshieldTopIPs dshield/topips/ http://www.dshield.org/feeds/topips.txt
daily = DshieldDaily dshield/daily/ http://www.dshield.org/feeds/daily_sources
zeus = ZeustrackerIpBlockList zeus/ipblocklist/ http://www.abuse.ch/zeustracker/blocklist.php?download=ipblocklist
sshblbase = SshblBase sshbl/base/ http://www.sshbl.org/lists/date.txt

; limits given to the get (RIS) Whois processes
[whois_push]
max_ips_by_process = 5000
min_ips_by_process = 500
max_processes = 4

; Informations given to the Whois fetchers. Desactivated by default. 
[whois_servers]
; Set to 0 to activate the fetching of the Whois information
desactivate_whois = 1
; list of desactivated servers
desactivate = whois.afrinic.net whois.nic.or.kr whois.apnic.net whois.nic.ad.jp whois.ripe.net
; message put in the database if the fetching on this serveris desactivated
desactivate_message = The whois fetching in desactivated for this server.
; servers supporting keepalive 
support_keepalive = riswhois.ripe.net whois.ripe.net
; the database of this servers is provided by the whois server running in local (you need the whois_server project up and running)
local = whois.arin.net whois.lacnic.net
; Number of processes allowed 
fetching_processes = 4
sorting_processes = 4
; this entries are definded in the assignations file but only for information. The ip found in this blocks should be considered as invalid
non_routed = UNALLOCATED 6to4 teredo 6bone v6nic
; Message for this type of false positive entries
non_routed_message = This IP is not routed. It is very probably a false positive.

; suffix for the options of the different assignations 
; and default port to contact the whois servers
[assignations]
; Four information that may be defined
pre_option_suffix = :pre
post_option_suffix = :post
keepalive_option_suffix = :keepalive
port_option_suffix = :port
; dummy key, the name is not important
servers_key = servers
; default port of the whois servers
default_whois_port = 43

; how to contact the MySQL database
[mysql]
login = root
password = root
hostname = localhost
; name of the databases, they have to be initialized 
dbname_ranking = ranking
dbname_voting = voting
dbname_whois = whois

; different redis databases, temporary keys and TTL for the cached entries. 
[redis]
; three dummy keys
key_temp_ris = ris
key_temp_whois = whois
key_temp_routing = bgp
; 5 redis databases used by the system
temp_reris_db =  0
ris_cache_reris_db = 1
whois_cache_reris_db = 2
routing_redis_db = 3
whois_assignations = 4
; TTL for the cached entries. 
cache_entries = 86400

; default directory names for old and temporary files 
[fetch_files]
old_dir = old
tmp_dir = temp

; config of the website 
; FIXME: not used anymore ? 
[web]
root = website
images = images
config_file = config/web_bgp-ranking.ini
website_root = /home/raphael/bgp-ranking/website
templates = templates
css_file = css/master.css
graphes = var/graphes
canvas_asn_name = rank
canvas_comparator_name = comparator

